<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>NFC Reader</title>
</head>
<body>
    <input type="text" id="writeText">
    <button id="writeButton">追加</button>
    <div id="writeLog"></div>
  
  <script>
    let inputText = document.getElementById("writeText");
    const writeButton = document.getElementById("writeButton");
    const writeLog = document.getElementById("writeLog");

    writeButton.addEventListener("click", async () => {
    console.log("write button clicked");
    writeLog.textContent = await "please touch the NFC tag!";
    try {
        let writeText = inputText.value
        console.log(writeText)
        if (!writeText) {
        writeLog.textContent = "empty";
        return;
        }
        const reader = new NDEFReader();
        await reader.write(writeText);
        writeLog.textContent = `write: ${writeText}`;
    } catch (error) {
        writeLog.textContent = error;
        console.log(error);
    }
    });
  </script>
</body>
</html>